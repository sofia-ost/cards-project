(this.webpackJsonpcards=this.webpackJsonpcards||[]).push([[0],[,,,,,,,,,,function(e,t,c){},function(e,t,c){},,function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(4),r=c.n(s),i=(c(10),c(2)),l=(c(11),c(0)),o=function(e){var t=e.setModalActive,c=e.setCardData,a=e.value;return Object(l.jsxs)("div",{className:"card",children:[Object(l.jsx)("p",{className:"card__category category",children:a.category}),Object(l.jsx)("h2",{className:"card__name",children:a.name}),Object(l.jsxs)("div",{className:"card__footer",children:[Object(l.jsx)("span",{className:"card__price price",children:a.price}),Object(l.jsx)("button",{className:"button button--samll card__button",onClick:function(){t(!0),c(a)},children:"Buy"})]})]})},u=c(5),j=c.p+"static/media/close.61bc0d9f.svg",b=(c(13),function(e,t){var c=Object(a.useState)(e),n=Object(i.a)(c,2),s=n[0],r=n[1],l=Object(a.useState)(!1),o=Object(i.a)(l,2),j=o[0],b=o[1],m=function(e,t){var c=Object(a.useState)(!0),n=Object(i.a)(c,2),s=n[0],r=n[1],l=Object(a.useState)(!1),o=Object(i.a)(l,2),u=o[0],j=o[1],b=Object(a.useState)(!1),m=Object(i.a)(b,2),d=m[0],f=m[1],O=Object(a.useState)(!1),h=Object(i.a)(O,2),p=h[0],v=h[1],_=Object(a.useState)(!1),x=Object(i.a)(_,2),N=x[0],g=x[1];return Object(a.useEffect)((function(){for(var c in t)switch(c){case"isEmpty":r(!e);break;case"isName":/^[A-Za-z]+$/g.test(e)?j(!1):j(!0);break;case"isNumber":/^[0-9]*$/g.test(e)?f(!1):f(!0);break;case"minLength":e.length<t[c]?v(!0):v(!1)}}),[e]),Object(a.useEffect)((function(){g(!(s||u||d||p))}),[s,u,d,p]),{isEmpty:s,nameError:u,numberError:d,minLengthError:p,inputValid:N}}(s,t);return Object(u.a)({value:s,setValue:r,setDirty:b,onChange:function(e){r(e.target.value)},onBlur:function(e){b(!0)},isDirty:j},m)}),m=function(e){var t=e.active,c=e.setActive,a=e.result,n=b("",{isEmpty:!0,isName:!0}),s=b("",{isEmpty:!0,isNumber:!0,minLength:12});return Object(l.jsx)("div",{className:"modal ".concat(t?"active":""),onClick:function(){return c(!1)},children:Object(l.jsxs)("div",{className:t?"modal-content active":"popup-content",onClick:function(e){return e.stopPropagation()},children:[Object(l.jsx)("button",{className:"modal__close",onClick:function(){return c(!1)},children:Object(l.jsx)("img",{src:j,alt:"close"})}),Object(l.jsxs)("form",{className:"form",onSubmit:function(e){e.preventDefault(),console.log("Name: "+n.value,"\nNumber: "+s.value,"\nProduct Name: "+a.name,"\nCategory: "+a.category,"\nPrice: "+a.price+"$"),setTimeout((function(){c(!1),n.setValue(""),n.setDirty(!1),s.setValue(""),s.setDirty(!1)}),1e3)},children:[Object(l.jsx)("p",{className:"modal__category category",value:a.category,children:a.category}),Object(l.jsx)("h2",{className:"modal__name",value:a.name,children:a.name}),Object(l.jsx)("span",{className:"modal__price price",value:a.price,children:a.price}),Object(l.jsxs)("div",{className:"form__field ".concat(n.isDirty&&n.isEmpty?"error":""),children:[Object(l.jsx)("input",{onChange:function(e){return n.onChange(e)},onBlur:function(e){return n.onBlur(e)},value:n.value,name:"name",type:"text",className:"form__field-input",placeholder:"Name"}),n.isDirty&&(n.isEmpty?Object(l.jsx)("span",{className:"form__field-message",children:"This field in required"}):n.nameError?Object(l.jsx)("span",{className:"form__field-message",children:"Only letters allowed"}):"")]}),Object(l.jsxs)("div",{className:"form__field ".concat(s.isDirty&&s.isEmpty?"error":""),children:[Object(l.jsx)("input",{onChange:function(e){return s.onChange(e)},onBlur:function(e){return s.onBlur(e)},value:s.value,name:"number",type:"text",className:"form__field-input",placeholder:"Number"}),s.isDirty&&(s.isEmpty?Object(l.jsx)("span",{className:"form__field-message",children:"This field in required"}):s.numberError?Object(l.jsx)("span",{className:"form__field-message",children:"Only numbers allowed"}):s.minLengthError?Object(l.jsx)("span",{className:"form__field-message",children:"Should contain 12 characters"}):"")]}),Object(l.jsx)("button",{disabled:!n.inputValid||!s.inputValid,className:"form__submit",children:Object(l.jsx)("span",{children:"Order"})})]})]})})},d=c.p+"static/media/spinner.b83a5f2a.svg",f=(c(14),function(){var e,t=Object(a.useState)(!1),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)({}),u=Object(i.a)(r,2),j=u[0],b=u[1],f=Object(a.useState)(null),O=Object(i.a)(f,2),h=O[0],p=O[1],v=Object(a.useState)(!1),_=Object(i.a)(v,2),x=_[0],N=_[1],g=Object(a.useState)([]),y=Object(i.a)(g,2),E=y[0],S=y[1];Object(a.useEffect)((function(){fetch("https://run.mocky.io/v3/b7d36eea-0b3f-414a-ba44-711b5f5e528e").then((function(e){return e.json()})).then((function(e){N(!0),S(e)}),(function(e){N(!0),p(e)}))}),[]),E.reduce((function(t,c,a,n){return e=n.find((function(e){return e.price===Math.min(t,c.price)})),c.price}),0);return h?Object(l.jsxs)("div",{children:["Error: ",h.message]}):x?Object(l.jsx)("div",{className:"cards-block",children:Object(l.jsxs)("div",{className:"container",children:[Object(l.jsx)("div",{className:"cards-block__body",children:E.map((function(e,t){return Object(l.jsx)(o,{setModalActive:s,setCardData:b,value:e},t)}))}),Object(l.jsx)("div",{className:"cards-block__footer",children:Object(l.jsx)("button",{className:"button button--big",onClick:function(){s(!0),b(e)},children:"Buy cheapest"})}),Object(l.jsx)(m,{active:n,setActive:s,result:j})]})}):Object(l.jsx)("div",{className:"loading",children:Object(l.jsx)("img",{src:d,alt:"spinner"})})});var O=function(){return Object(l.jsx)(f,{})};r.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(O,{})}),document.getElementById("root"))}],[[15,1,2]]]);
//# sourceMappingURL=main.eb57d818.chunk.js.map